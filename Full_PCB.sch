EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:Full_PCB-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 19
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 2300 1000 950  400 
U 5A0C1555
F0 "Max668" 60
F1 "Max668_boost.sch" 60
F2 "DAC" I R 3250 1100 60 
F3 "Vout" I R 3250 1200 60 
F4 "Vin" I L 2300 1150 60 
$EndSheet
$Sheet
S 2300 1650 950  400 
U 5A0C5BCB
F0 "Max668" 60
F1 "Max668_boost.sch" 60
F2 "DAC" I R 3250 1750 60 
F3 "Vout" I R 3250 1850 60 
F4 "Vin" I L 2300 1800 60 
$EndSheet
$Sheet
S 2300 2300 950  400 
U 5A0C5D80
F0 "Max668" 60
F1 "Max668_boost.sch" 60
F2 "DAC" I R 3250 2400 60 
F3 "Vout" I R 3250 2500 60 
F4 "Vin" I L 2300 2450 60 
$EndSheet
$Sheet
S 1450 1025 500  400 
U 5A0CF4B1
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 1950 1350 60 
F3 "Vin" I L 1450 1125 60 
F4 "Vout" I R 1950 1125 60 
F5 "3.3V" I L 1450 1300 60 
$EndSheet
$Sheet
S 1450 1650 500  400 
U 5A0D0B57
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 1950 1975 60 
F3 "Vin" I L 1450 1750 60 
F4 "Vout" I R 1950 1750 60 
F5 "3.3V" I L 1450 1925 60 
$EndSheet
$Sheet
S 1450 2300 500  400 
U 5A0D1A97
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 1950 2625 60 
F3 "Vin" I L 1450 2400 60 
F4 "Vout" I R 1950 2400 60 
F5 "3.3V" I L 1450 2575 60 
$EndSheet
$Sheet
S 3550 1000 500  400 
U 5A0D4DBC
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 4050 1325 60 
F3 "Vin" I L 3550 1100 60 
F4 "Vout" I R 4050 1100 60 
F5 "3.3V" I L 3550 1275 60 
$EndSheet
$Sheet
S 3550 1625 500  400 
U 5A0D4DC3
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 4050 1950 60 
F3 "Vin" I L 3550 1725 60 
F4 "Vout" I R 4050 1725 60 
F5 "3.3V" I L 3550 1900 60 
$EndSheet
$Sheet
S 3550 2275 500  400 
U 5A0D4DCA
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 4050 2600 60 
F3 "Vin" I L 3550 2375 60 
F4 "Vout" I R 4050 2375 60 
F5 "3.3V" I L 3550 2550 60 
$EndSheet
$Sheet
S 4675 1125 700  1325
U 5A0DB5DA
F0 "Switches" 60
F1 "Switches.sch" 60
F2 "RBF_in" I L 4675 2200 60 
F3 "RBF_OUT" I L 4675 2100 60 
F4 "MCU_ctrl" I L 4675 2000 60 
F5 "OUT" I R 5375 1525 60 
F6 "Batt+" I R 5375 1800 60 
F7 "Batt-" I R 5375 1925 60 
F8 "Batt_GND_+" I R 5375 2300 60 
F9 "Batt_GND_-" I R 5375 2400 60 
F10 "Vin" I L 4675 1400 60 
$EndSheet
$Sheet
S 4250 3175 950  925 
U 5A0E40CF
F0 "BATT" 60
F1 "BATT.sch" 60
F2 "B+" I L 4250 3500 60 
F3 "B-" I L 4250 3700 60 
F4 "HeaterSW" I L 4250 3875 60 
F5 "Bmid" I L 4250 3600 60 
$EndSheet
$Sheet
S 4150 4400 1050 725 
U 5A0E463A
F0 "Ext_Charger" 79
F1 "External_Charger.sch" 79
F2 "Batt+" I R 5200 4600 60 
$EndSheet
$Sheet
S 6150 1900 625  500 
U 5A0EBC73
F0 "Buck_5" 79
F1 "Buck_5.sch" 79
F2 "Vin" I L 6150 2100 60 
F3 "En_float" I L 6150 2325 60 
F4 "Vout" I R 6775 2175 60 
$EndSheet
$Sheet
S 6150 2675 625  500 
U 5A0EFA24
F0 "Buck_5" 79
F1 "Buck_5.sch" 79
F2 "Vin" I L 6150 2875 60 
F3 "En_float" I L 6150 3100 60 
F4 "Vout" I R 6775 2950 60 
$EndSheet
$Sheet
S 7250 1325 500  400 
U 5A0F3F1C
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 7750 1650 60 
F3 "Vin" I L 7250 1425 60 
F4 "Vout" I R 7750 1425 60 
F5 "3.3V" I L 7250 1600 60 
$EndSheet
$Sheet
S 7250 1975 500  400 
U 5A0F3F23
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 7750 2300 60 
F3 "Vin" I L 7250 2075 60 
F4 "Vout" I R 7750 2075 60 
F5 "3.3V" I L 7250 2250 60 
$EndSheet
$Sheet
S 7250 2750 500  400 
U 5A0FD06B
F0 "Ina139" 60
F1 "INA139.sch" 60
F2 "I" I R 7750 3075 60 
F3 "Vin" I L 7250 2850 60 
F4 "Vout" I R 7750 2850 60 
F5 "3.3V" I L 7250 3025 60 
$EndSheet
Wire Wire Line
	850  1125 1450 1125
Wire Wire Line
	850  1750 1450 1750
Wire Wire Line
	850  2400 1450 2400
$Sheet
S 2300 3325 825  450 
U 5A24CA0A
F0 "DAC" 60
F1 "DAC.sch" 60
F2 "3V3" I L 2300 3675 60 
F3 "SCL" I L 2300 3450 60 
F4 "SDA" I L 2300 3525 60 
F5 "LDAC" I L 2300 3375 60 
F6 "RDY" I L 2300 3600 60 
F7 "DacOutA" I R 3125 3375 60 
F8 "DacOutB" I R 3125 3475 60 
F9 "DacOutC" I R 3125 3575 60 
F10 "DacOutD" I R 3125 3675 60 
$EndSheet
$Comp
L R RBdiv1
U 1 1 5A2BF474
P 3675 3650
F 0 "RBdiv1" V 3755 3650 50  0000 C CNN
F 1 "220k" V 3675 3650 50  0000 C CNN
F 2 "" V 3605 3650 50  0000 C CNN
F 3 "" H 3675 3650 50  0000 C CNN
	1    3675 3650
	1    0    0    -1  
$EndComp
$Comp
L R RBdiv2
U 1 1 5A2C3533
P 3675 4100
F 0 "RBdiv2" V 3755 4100 50  0000 C CNN
F 1 "100k" V 3675 4100 50  0000 C CNN
F 2 "" V 3605 4100 50  0000 C CNN
F 3 "" H 3675 4100 50  0000 C CNN
	1    3675 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	3675 3800 3675 3950
Wire Wire Line
	3675 3500 4250 3500
$Comp
L GND #PWR?
U 1 1 5A2C4E69
P 3675 4250
F 0 "#PWR?" H 3675 4000 50  0001 C CNN
F 1 "GND" H 3675 4100 50  0000 C CNN
F 2 "" H 3675 4250 50  0000 C CNN
F 3 "" H 3675 4250 50  0000 C CNN
	1    3675 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3675 3900 3525 3900
Connection ~ 3675 3900
Text Notes 3600 3225 3    39   ~ 0
Voltage Divider for BATT voltage to MCU ADC
Text GLabel 3125 3375 2    60   Input ~ 0
DAC1
Text GLabel 3250 2400 2    60   Input ~ 0
DAC3
Text GLabel 3125 3475 2    60   Input ~ 0
DAC2
Text GLabel 3250 1750 2    60   Input ~ 0
DAC2
Text GLabel 3250 1100 2    60   Input ~ 0
DAC1
Text GLabel 3125 3575 2    60   Input ~ 0
DAC3
Text GLabel 3125 3675 2    60   Input ~ 0
DAC4
Text GLabel 1450 2575 0    60   Input ~ 0
3V3
Text GLabel 1450 1925 0    60   Input ~ 0
3V3
Text GLabel 1450 1300 0    60   Input ~ 0
3V3
Text GLabel 2300 3675 0    60   Input ~ 0
3V3
Text GLabel 4000 3500 1    60   Input ~ 0
Batt+
Text GLabel 5400 4550 1    60   Input ~ 0
Batt+
Wire Wire Line
	5175 4600 5400 4600
Wire Wire Line
	5400 4600 5400 4550
$Comp
L R RdivH
U 1 1 5A33A9B4
P 3950 3700
F 0 "RdivH" V 4030 3700 50  0000 C CNN
F 1 "100k" V 3950 3700 50  0000 C CNN
F 2 "" V 3880 3700 50  0000 C CNN
F 3 "" H 3950 3700 50  0000 C CNN
	1    3950 3700
	1    0    0    -1  
$EndComp
$Comp
L R RdivLo
U 1 1 5A33A9BA
P 3950 4150
F 0 "RdivLo" V 4030 4150 50  0000 C CNN
F 1 "220k" V 3950 4150 50  0000 C CNN
F 2 "" V 3880 4150 50  0000 C CNN
F 3 "" H 3950 4150 50  0000 C CNN
	1    3950 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 3850 3950 4000
Wire Wire Line
	3950 3950 3800 3950
Connection ~ 3950 3950
$Comp
L GND #PWR?
U 1 1 5A33AADA
P 3950 4300
F 0 "#PWR?" H 3950 4050 50  0001 C CNN
F 1 "GND" H 3950 4150 50  0000 C CNN
F 2 "" H 3950 4300 50  0000 C CNN
F 3 "" H 3950 4300 50  0000 C CNN
	1    3950 4300
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 3550 4150 3550
Wire Wire Line
	4150 3550 4150 3600
Wire Wire Line
	4150 3600 4250 3600
Text GLabel 4250 3700 0    60   Input ~ 0
B-
Text GLabel 5375 2300 2    60   Input ~ 0
B-
Text GLabel 5375 1925 2    60   Input ~ 0
B-
Text GLabel 5600 1800 2    60   Input ~ 0
Batt+
Wire Wire Line
	5375 1800 5600 1800
Wire Wire Line
	4425 1725 4050 1725
Wire Wire Line
	4425 1100 4425 2375
Wire Wire Line
	4425 1375 4600 1375
Wire Wire Line
	4600 1375 4600 1400
Wire Wire Line
	4600 1400 4675 1400
Wire Wire Line
	4050 1100 4425 1100
Connection ~ 4425 1375
Wire Wire Line
	4425 2375 4050 2375
Connection ~ 4425 1725
$Comp
L CONN_01X02 P?
U 1 1 5A3CF9B8
P 650 1175
F 0 "P?" H 650 1325 50  0000 C CNN
F 1 "CONN_01X02" V 750 1175 50  0000 C CNN
F 2 "" H 650 1175 50  0000 C CNN
F 3 "" H 650 1175 50  0000 C CNN
	1    650  1175
	-1   0    0    1   
$EndComp
$Comp
L CONN_01X02 P?
U 1 1 5A3CFBD6
P 650 1800
F 0 "P?" H 650 1950 50  0000 C CNN
F 1 "CONN_01X02" V 750 1800 50  0000 C CNN
F 2 "" H 650 1800 50  0000 C CNN
F 3 "" H 650 1800 50  0000 C CNN
	1    650  1800
	-1   0    0    1   
$EndComp
$Comp
L CONN_01X02 P?
U 1 1 5A3CFE12
P 650 2450
F 0 "P?" H 650 2600 50  0000 C CNN
F 1 "CONN_01X02" V 750 2450 50  0000 C CNN
F 2 "" H 650 2450 50  0000 C CNN
F 3 "" H 650 2450 50  0000 C CNN
	1    650  2450
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR?
U 1 1 5A3D13C6
P 850 1225
F 0 "#PWR?" H 850 975 50  0001 C CNN
F 1 "GND" H 850 1075 50  0000 C CNN
F 2 "" H 850 1225 50  0000 C CNN
F 3 "" H 850 1225 50  0000 C CNN
	1    850  1225
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5A3D15BB
P 850 1850
F 0 "#PWR?" H 850 1600 50  0001 C CNN
F 1 "GND" H 850 1700 50  0000 C CNN
F 2 "" H 850 1850 50  0000 C CNN
F 3 "" H 850 1850 50  0000 C CNN
	1    850  1850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5A3D17A9
P 850 2500
F 0 "#PWR?" H 850 2250 50  0001 C CNN
F 1 "GND" H 850 2350 50  0000 C CNN
F 2 "" H 850 2500 50  0000 C CNN
F 3 "" H 850 2500 50  0000 C CNN
	1    850  2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 1125 2200 1125
Wire Wire Line
	2200 1125 2225 1150
Wire Wire Line
	2225 1150 2300 1150
Wire Wire Line
	1950 1750 2175 1750
Wire Wire Line
	2175 1750 2225 1800
Wire Wire Line
	2225 1800 2300 1800
Wire Wire Line
	1950 2400 2175 2400
Wire Wire Line
	2175 2400 2225 2450
Wire Wire Line
	2225 2450 2300 2450
Wire Wire Line
	3250 1200 3400 1200
Wire Wire Line
	3400 1200 3475 1100
Wire Wire Line
	3475 1100 3550 1100
Wire Wire Line
	3250 1850 3350 1850
Wire Wire Line
	3350 1850 3425 1725
Wire Wire Line
	3425 1725 3550 1725
Wire Wire Line
	3250 2500 3400 2500
Wire Wire Line
	3400 2500 3500 2375
Wire Wire Line
	3500 2375 3550 2375
Wire Wire Line
	5375 1525 5950 1525
Wire Wire Line
	5950 1525 5950 2875
Wire Wire Line
	5950 2875 6150 2875
Wire Wire Line
	6150 2100 5950 2100
Connection ~ 5950 2100
Wire Wire Line
	6775 2175 7000 2175
Wire Wire Line
	7000 2175 7000 2075
Wire Wire Line
	7000 2075 7250 2075
Wire Wire Line
	6775 2950 6950 2950
Wire Wire Line
	6950 2950 7075 2850
Wire Wire Line
	7075 2850 7250 2850
Text GLabel 6150 3100 0    60   Input ~ 0
3V3
Text GLabel 6150 2325 0    60   Input ~ 0
3V3
Text GLabel 3550 2550 0    60   Input ~ 0
3V3
Text GLabel 3550 1900 0    60   Input ~ 0
3V3
Text GLabel 3550 1275 0    60   Input ~ 0
3V3
Text GLabel 1950 1350 2    60   Input ~ 0
I_1
Text GLabel 1950 1975 2    60   Input ~ 0
I_2
Text GLabel 1950 2625 2    60   Input ~ 0
I_3
Text GLabel 4050 1325 2    60   Input ~ 0
I_1_Boost
Text GLabel 4050 1950 2    60   Input ~ 0
I_2_Boost
Text GLabel 4050 2600 2    60   Input ~ 0
I_3_Boost
$EndSCHEMATC
